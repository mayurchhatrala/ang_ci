
$(document).keypress(function(a){if((a.which==24||a.which==88)&&a.ctrlKey){window.location.href=BASEURL+"#/access/lock"}if((a.which==19)&&a.ctrlKey){if($("#addRecord").length>0){$("#addRecord").trigger("click")}}});$(function(){$("body").on("click",".delete-option",function(){var e=$(this);var d=e.parents("tr");var c=d.prop("id");var f=e.data("target");swal({title:"Are you sure?",text:"You want to delete this record?",type:"warning",showCancelButton:true,confirmButtonColor:"#f05050",confirmButtonText:"Yes, delete it!",closeOnConfirm:false},function(){$.ajax({method:"POST",url:BASEURL+"crud/operation/D/"+f+"/"+c,data:{},dataType:"json",success:function(g){$("tr#"+c).remove();swal("Deleted!",g.MSG,"success")}})})});$("body").on("click",".status-option",function(){var f=$(this);var e=f.parents("tr");var c=e.prop("id");var d=f.hasClass("btn-default")?1:0;var g=f.data("target");$.ajax({method:"POST",url:BASEURL+"crud/operation/U/"+g+"/"+c,data:{ngstatus:d},dataType:"json",success:function(h){swal("Updated!",h.MSG,"success");if(!d){f.removeClass("btn-success");f.addClass("btn-default")}else{f.removeClass("btn-default");f.addClass("btn-success")}}})});var a=(document.documentMode===undefined),b=window.chrome;if(a&&!b){$(window).on("focusin",function(){setTimeout(function(){sessionAjax()},300)}).on("focusout",function(){})}else{if(window.addEventListener){window.addEventListener("focus",function(c){setTimeout(function(){sessionAjax()},300)},false);window.addEventListener("blur",function(c){},false)}else{window.attachEvent("focus",function(c){setTimeout(function(){sessionAjax()},300)});window.attachEvent("blur",function(c){})}}});function sessionAjax(){if($("#isLoginPage").length==0){$.ajax({type:"POST",datType:"json",url:BASEURL+"login/sessionCheck",data:{checkSession:"y"},success:function(a){a=JSON.parse(a);if(a.value===-1){window.location.href=BASEURL+"#/access/signin"}}})}};