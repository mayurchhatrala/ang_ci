"use strict";angular.module("ui.load",[]).service("uiLoad",["$document","$q","$timeout",function(f,b,d){var c=[];var e=false;var a=b.defer();this.load=function(h){h=angular.isArray(h)?h:h.split(/\s+/);var g=this;if(!e){e=a.promise}angular.forEach(h,function(i){e=e.then(function(){return i.indexOf(".css")>=0?g.loadCSS(i):g.loadScript(i)})});a.resolve();return e};this.loadScript=function(i){if(c[i]){return c[i].promise}var h=b.defer();var g=f[0].createElement("script");g.src=i;g.onload=function(j){d(function(){h.resolve(j)})};g.onerror=function(j){d(function(){h.reject(j)})};f[0].body.appendChild(g);c[i]=h;return h.promise};this.loadCSS=function(h){if(c[h]){return c[h].promise}var g=b.defer();var i=f[0].createElement("link");i.rel="stylesheet";i.type="text/css";i.href=h;i.onload=function(j){d(function(){g.resolve(j)})};i.onerror=function(j){d(function(){g.reject(j)})};f[0].head.appendChild(i);c[h]=g;return g.promise}}]);